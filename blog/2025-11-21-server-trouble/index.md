---
title: 서버 일시적 다운
authors: [doyen]
tags: [Android]
---

오후 10시경 갑작스레 서버 접속이 불가한 상황이 발생했습니다.  
![참고 자료](./screenshot1.jpg)  

서버 로그에서 다음과 같은 메시지를 확인할 수 있었습니다.

```
Public Key Retrieval is not allowed
```

스프링 서버에서 DB에 권한을 인증할 때 비밀번호를 DB 서버의 공개키로 암호화해야해서(MySQL Connector/J의 기본 보안 설정) 공개키를 받아야 하는데, 기본적으로는 공개키를 제공하는 것을 허용하지 않도록 되어있어서 문제가 발생했습니다. 커넥션 연결 시 공개키를 받아오도록 설정을 추가하여 해결했습니다.

이렇게 서버가 다운되었을 때 서비스 이용에 지장이 발생하지 않도록 조치가 필요할 것 같습니다.
